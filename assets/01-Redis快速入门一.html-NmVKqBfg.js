import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,d as n,b as l,o as t}from"./app-Dd-o-6Zm.js";const d={};function r(p,i){return t(),e("div",null,[i[0]||(i[0]=a("p",null,"介绍 NoSQL 和 Redis，Redis 的安装以及 Redis 客户端。",-1)),n(" more "),i[1]||(i[1]=l(`<h1 id="一、初识-redis" tabindex="-1"><a class="header-anchor" href="#一、初识-redis"><span>一、初识 Redis</span></a></h1><p>Redis 是一种键值型的 NoSql 数据库，这里有两个关键字：</p><ul><li><p>键值型</p></li><li><p>NoSql</p></li></ul><p>其中<strong>键值型</strong>，是指 Redis 中存储的数据都是以 key、value 对的形式存储，而 value 的形式多种多样，可以是字符串、数值、甚至 json：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image1.png" alt="image1" tabindex="0" loading="lazy"><figcaption>image1</figcaption></figure><p>而 NoSql 则是相对于传统关系型数据库而言，有很大差异的一种数据库。</p><p>对于存储的数据，没有类似 Mysql 那么严格的约束，比如唯一性，是否可以为 null 等等，所以我们把这种松散结构的数据库，称之为 NoSQL 数据库。</p><h2 id="_1、认识-nosql" tabindex="-1"><a class="header-anchor" href="#_1、认识-nosql"><span>1、认识 NoSQL</span></a></h2><p><strong>NoSql</strong> 可以翻译做 Not Only Sql（不仅仅是 SQL），或者是 No Sql（非 Sql 的）数据库。是相对于传统关系型数据库而言，有很大差异的一种特殊的数据库，因此也称之为<strong>非关系型数据库</strong>。</p><h3 id="_1-1、结构化与非结构化" tabindex="-1"><a class="header-anchor" href="#_1-1、结构化与非结构化"><span>1.1、结构化与非结构化</span></a></h3><p>传统关系型数据库是结构化数据，每一张表都有严格的约束信息：字段名、字段数据类型、字段约束等等信息，插入的数据必须遵守这些约束：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image2.png" alt="image2" tabindex="0" loading="lazy"><figcaption>image2</figcaption></figure><p>而 NoSql 则对数据库格式没有严格约束，往往形式松散，自由。</p><p>可以是键值型：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image3.png" alt="image3" tabindex="0" loading="lazy"><figcaption>image3</figcaption></figure><p>也可以是文档型：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image4.png" alt="image4" tabindex="0" loading="lazy"><figcaption>image4</figcaption></figure><p>甚至可以是图格式：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image5.png" alt="image5" tabindex="0" loading="lazy"><figcaption>image5</figcaption></figure><h3 id="_1-2、关联和非关联" tabindex="-1"><a class="header-anchor" href="#_1-2、关联和非关联"><span>1.2、关联和非关联</span></a></h3><p>传统数据库的表与表之间往往存在关联，例如外键：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image6.png" alt="image6" tabindex="0" loading="lazy"><figcaption>image6</figcaption></figure><p>而非关系型数据库不存在关联关系，要维护关系要么靠代码中的业务逻辑，要么靠数据之间的耦合：</p><div class="language-json line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="json" data-title="json" style="--vp-collapsed-lines:15;--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">  id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;张三&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">  orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">       id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">       item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	     id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;荣耀6&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">price</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4999</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">       id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">       item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">	     id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;小米11&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">price</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3999</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>此处要维护 “张三” 的订单与商品 “荣耀” 和 “小米 11” 的关系，不得不冗余的将这两个商品保存在张三的订单文档中，不够优雅。还是建议用业务来维护关联关系。</p><h3 id="_1-3、查询方式" tabindex="-1"><a class="header-anchor" href="#_1-3、查询方式"><span>1.3、查询方式</span></a></h3><p>传统关系型数据库会基于 Sql 语句做查询，语法有统一标准；</p><p>而不同的非关系数据库查询语法差异极大，五花八门各种各样。</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image7.png" alt="image7" tabindex="0" loading="lazy"><figcaption>image7</figcaption></figure><h3 id="_1-4、事务" tabindex="-1"><a class="header-anchor" href="#_1-4、事务"><span>1.4、事务</span></a></h3><p>传统关系型数据库能满足事务 ACID 的原则。</p><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image8.png" alt="image8" style="zoom:80%;"><p>而非关系型数据库往往不支持事务，或者不能严格保证 ACID 的特性，只能实现基本的一致性。</p><h3 id="_1-5、总结" tabindex="-1"><a class="header-anchor" href="#_1-5、总结"><span>1.5、总结</span></a></h3><p>除了上述四点以外，在存储方式、扩展性、查询性能上关系型与非关系型也都有着显著差异，总结如下：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image9.png" alt="image9" tabindex="0" loading="lazy"><figcaption>image9</figcaption></figure><ul><li>存储方式 <ul><li>关系型数据库基于磁盘进行存储，会有大量的磁盘 IO，对性能有一定影响</li><li>非关系型数据库的操作更多依赖于内存来操作，内存的读写速度会非常快，性能自然会好一些</li></ul></li></ul><ul><li>扩展性 <ul><li>关系型数据库集群模式一般是主从，主从数据一致，起到数据备份的作用，称为垂直扩展。</li><li>非关系型数据库可以将数据拆分，存储在不同机器上，可以保存海量数据，解决内存大小有限的问题。称为水平扩展。</li><li>关系型数据库因为表之间存在关联关系，如果做水平扩展会给数据查询带来很多麻烦</li></ul></li></ul><h2 id="_2、认识-redis" tabindex="-1"><a class="header-anchor" href="#_2、认识-redis"><span>2、认识 Redis</span></a></h2><p>Redis 诞生于 2009 年，全称是 <strong>Re</strong>mote <strong>Di</strong>ctionary <strong>S</strong>erver 远程词典服务器，是一个基于内存的键值型 NoSQL 数据库。</p><p><strong>特征</strong>：</p><ul><li>键值（key-value）型，value 支持多种不同数据结构，功能丰富</li><li>单线程，每个命令具备原子性</li><li>低延迟，速度快（基于内存、IO 多路复用、良好的编码）</li><li>支持数据持久化</li><li>支持主从集群、分片集群</li><li>支持多语言客户端</li></ul><p><strong>作者</strong>：Antirez</p><p>Redis 的官方网站地址：<a href="https://redis.io/" target="_blank" rel="noopener noreferrer">https://redis.io/</a></p><h2 id="_3、安装redis" tabindex="-1"><a class="header-anchor" href="#_3、安装redis"><span>3、安装Redis</span></a></h2><p>大多数企业都是基于 Linux 服务器来部署项目，而且 Redis 官方也没有提供 Windows 版本的安装包。因此课程中我们会基于 Linux 系统来安装 Redis。</p><p>此处选择的 Linux 版本为 CentOS 7。</p><h3 id="_3-1、安装-redis-依赖" tabindex="-1"><a class="header-anchor" href="#_3-1、安装-redis-依赖"><span>3.1、安装 Redis 依赖</span></a></h3><p>Redis 是基于 C 语言编写的，因此首先需要安装 Redis 所需要的 gcc 依赖：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gcc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tcl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-2、上传安装包并解压" tabindex="-1"><a class="header-anchor" href="#_3-2、上传安装包并解压"><span>3.2、上传安装包并解压</span></a></h3><p>然后将课前资料提供的 Redis 安装包上传到虚拟机的任意目录：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image10.png" alt="image10" tabindex="0" loading="lazy"><figcaption>image10</figcaption></figure><p>例如，我放到了 /usr/local/src 目录：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image11.png" alt="image11" tabindex="0" loading="lazy"><figcaption>image11</figcaption></figure><p>解压缩：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -xzf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis-6.2.6.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解压后：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image12.png" alt="image12" tabindex="0" loading="lazy"><figcaption>image12</figcaption></figure><p>进入 redis 目录：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis-6.2.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>运行编译命令：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果没有出错，应该就安装成功了。</p><p>默认的安装路径是在 <code>/usr/local/bin</code> 目录下：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image13.png" alt="image13" tabindex="0" loading="lazy"><figcaption>image13</figcaption></figure><p>该目录已经默认配置到环境变量，因此可以在任意目录下运行这些命令。其中：</p><ul><li>redis-cli：是 redis 提供的命令行客户端</li><li>redis-server：是 redis 的服务端启动脚本</li><li>redis-sentinel：是 redis 的哨兵启动脚本</li></ul><h3 id="_3-3、启动" tabindex="-1"><a class="header-anchor" href="#_3-3、启动"><span>3.3、启动</span></a></h3><p>redis 的启动方式有很多种，例如：</p><ul><li>默认启动</li><li>指定配置启动</li><li>开机自启</li></ul><h3 id="_3-4、默认启动" tabindex="-1"><a class="header-anchor" href="#_3-4、默认启动"><span>3.4、默认启动</span></a></h3><p>安装完成后，在任意目录输入 redis-server 命令即可启动 Redis：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如图：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image14.png" alt="image14" tabindex="0" loading="lazy"><figcaption>image14</figcaption></figure><p>这种启动属于<code>前台启动</code>，会阻塞整个会话窗口，窗口关闭或者按下 <code>CTRL + C</code> 则 Redis 停止。不推荐使用。</p><h3 id="_3-5、指定配置启动" tabindex="-1"><a class="header-anchor" href="#_3-5、指定配置启动"><span>3.5、指定配置启动</span></a></h3><p>如果要让 Redis 以<code>后台</code>方式启动，则必须修改 Redis 配置文件，就在我们之前解压的 redis 安装包下（<code>/usr/local/src/redis-6.2.6</code>），名字叫 redis.conf：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image15.png" alt="image15" tabindex="0" loading="lazy"><figcaption>image15</figcaption></figure><p>我们先将这个配置文件备份一份：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis.conf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis.conf.bck</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后修改 redis.conf 文件中的一些配置：</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0</span></span>
<span class="line"><span>bind 0.0.0.0</span></span>
<span class="line"><span># 守护进程，修改为yes后即可后台运行</span></span>
<span class="line"><span>daemonize yes</span></span>
<span class="line"><span># 密码，设置后访问Redis必须输入密码</span></span>
<span class="line"><span>requirepass 123321</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Redis 的其它常见配置：</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 监听的端口</span></span>
<span class="line"><span>port 6379</span></span>
<span class="line"><span># 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录</span></span>
<span class="line"><span>dir .</span></span>
<span class="line"><span># 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15</span></span>
<span class="line"><span>databases 1</span></span>
<span class="line"><span># 设置redis能够使用的最大内存</span></span>
<span class="line"><span>maxmemory 512mb</span></span>
<span class="line"><span># 日志文件，默认为空，不记录日志，可以指定日志文件名</span></span>
<span class="line"><span>logfile &quot;redis.log&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动 Redis：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入redis安装目录</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/src/redis-6.2.6</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>停止服务：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 因为之前配置了密码，因此需要通过 -u 来指定密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-cli</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 123321</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shutdown</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-6、开机自启" tabindex="-1"><a class="header-anchor" href="#_3-6、开机自启"><span>3.6、开机自启</span></a></h3><p>我们也可以通过配置来实现开机自启。</p><p>首先，新建一个系统服务文件：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/systemd/system/redis.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>内容如下：</p><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" data-title="conf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=redis-server</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>Type=forking</span></span>
<span class="line"><span>ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf</span></span>
<span class="line"><span>PrivateTmp=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后重载系统服务：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daemon-reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>现在，我们可以用下面这组命令来操作 redis了：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 停止</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 重启</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看状态</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行下面的命令，可以让 redis 开机自启：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4、redis-客户端" tabindex="-1"><a class="header-anchor" href="#_4、redis-客户端"><span>4、Redis 客户端</span></a></h2><p>安装完成 Redis，我们就可以操作 Redis，实现数据的 CRUD 了。这需要用到 Redis 客户端，包括：</p><ul><li>命令行客户端</li><li>图形化桌面客户端</li><li>编程客户端</li></ul><h3 id="_4-1、redis命令行客户端" tabindex="-1"><a class="header-anchor" href="#_4-1、redis命令行客户端"><span>4.1、Redis命令行客户端</span></a></h3><p>Redis 安装完成后就自带了命令行客户端：redis-cli，使用方式如下：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redis-cli</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [options] [commonds]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中常见的 options 有：</p><ul><li><code>-h 127.0.0.1</code>：指定要连接的 redis 节点的 IP 地址，默认是 127.0.0.1</li><li><code>-p 6379</code>：指定要连接的 redis 节点的端口，默认是 6379</li><li><code>-a 123321</code>：指定 redis 的访问密码</li></ul><p>其中的 commonds 就是 Redis 的操作命令，例如：</p><ul><li><code>ping</code>：与 redis 服务端做心跳测试，服务端正常会返回 <code>pong</code></li></ul><p>不指定 commond 时，会进入 <code>redis-cli</code> 的交互控制台：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image16.png" alt="image16" tabindex="0" loading="lazy"><figcaption>image16</figcaption></figure><h3 id="_4-2、图形化桌面客户端" tabindex="-1"><a class="header-anchor" href="#_4-2、图形化桌面客户端"><span>4.2、图形化桌面客户端</span></a></h3><p>GitHub 上的大神编写了 Redis 的图形化桌面客户端，地址：<a href="https://github.com/uglide/RedisDesktopManager" target="_blank" rel="noopener noreferrer">https://github.com/uglide/RedisDesktopManager</a></p><p>不过该仓库提供的是 RedisDesktopManager 的源码，并未提供 windows 安装包。</p><p>在下面这个仓库可以找到安装包：<a href="https://github.com/lework/RedisDesktopManager-Windows/releases" target="_blank" rel="noopener noreferrer">https://github.com/lework/RedisDesktopManager-Windows/releases</a></p><h3 id="_4-3、安装" tabindex="-1"><a class="header-anchor" href="#_4-3、安装"><span>4.3、安装</span></a></h3><p>在课前资料中可以找到 Redis 的图形化桌面客户端：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image17.png" alt="image17" tabindex="0" loading="lazy"><figcaption>image17</figcaption></figure><p>解压缩后，运行安装程序即可安装：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image18.png" alt="image18" tabindex="0" loading="lazy"><figcaption>image18</figcaption></figure><p>安装完成后，在安装目录下找到 rdm.exe 文件：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image19.png" alt="image19" tabindex="0" loading="lazy"><figcaption>image19</figcaption></figure><p>双击即可运行：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image20.png" alt="image20" tabindex="0" loading="lazy"><figcaption>image20</figcaption></figure><h3 id="_4-4、建立连接" tabindex="-1"><a class="header-anchor" href="#_4-4、建立连接"><span>4.4、建立连接</span></a></h3><p>点击左上角的<code>连接到 Redis 服务器</code>按钮：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image21.png" alt="image21" tabindex="0" loading="lazy"><figcaption>image21</figcaption></figure><p>在弹出的窗口中填写 Redis 服务信息：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image22.png" alt="image22" tabindex="0" loading="lazy"><figcaption>image22</figcaption></figure><p>点击确定后，在左侧菜单会出现这个链接：</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image23.png" alt="image23" tabindex="0" loading="lazy"><figcaption>image23</figcaption></figure><p>点击即可建立连接了。</p><figure><img src="https://img.relishcoding.top/redis-learning/01-Redis快速入门/image24.png" alt="image24" tabindex="0" loading="lazy"><figcaption>image24</figcaption></figure><p>Redis 默认有 16 个仓库，编号从 0 至 15。通过配置文件可以设置仓库数量，但是不超过 16，并且不能自定义仓库名称。</p><p>如果是基于 redis-cli 连接 Redis 服务，可以通过 select 命令来选择数据库：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 选择 0号库</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><br><blockquote><p>参考视频：<a href="https://www.bilibili.com/video/BV1cr4y1671t/?share_source=copy_web" target="_blank" rel="noopener noreferrer">黑马程序员Redis入门到实战教程，深度透析redis底层原理+redis分布式锁+企业解决方案+黑马点评实战项目</a></p></blockquote>`,141))])}const c=s(d,[["render",r],["__file","01-Redis快速入门一.html.vue"]]),k=JSON.parse(`{"path":"/Database/Redis/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E4%B8%80.html","title":"01-Redis快速入门一","lang":"zh-CN","frontmatter":{"title":"01-Redis快速入门一","date":"2023-12-23T00:00:00.000Z","category":"Redis","tag":["数据库","Redis"],"description":"介绍 NoSQL 和 Redis，Redis 的安装以及 Redis 客户端。","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://relishcoding.github.io/Database/Redis/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E4%B8%80.html"}],["meta",{"property":"og:site_name","content":"RelishCoding's Blog"}],["meta",{"property":"og:title","content":"01-Redis快速入门一"}],["meta",{"property":"og:description","content":"介绍 NoSQL 和 Redis，Redis 的安装以及 Redis 客户端。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image1.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"数据库"}],["meta",{"property":"article:tag","content":"Redis"}],["meta",{"property":"article:published_time","content":"2023-12-23T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"01-Redis快速入门一\\",\\"image\\":[\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image1.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image2.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image3.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image4.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image5.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image6.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image7.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image9.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image10.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image11.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image12.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image13.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image14.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image15.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image16.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image17.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image18.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image19.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image20.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image21.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image22.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image23.png\\",\\"https://img.relishcoding.top/redis-learning/01-Redis%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/image24.png\\"],\\"datePublished\\":\\"2023-12-23T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"RelishCoding\\",\\"url\\":\\"https://github.com/RelishCoding\\"}]}"]]},"headers":[{"level":1,"title":"一、初识 Redis","slug":"一、初识-redis","link":"#一、初识-redis","children":[{"level":2,"title":"1、认识 NoSQL","slug":"_1、认识-nosql","link":"#_1、认识-nosql","children":[{"level":3,"title":"1.1、结构化与非结构化","slug":"_1-1、结构化与非结构化","link":"#_1-1、结构化与非结构化","children":[]},{"level":3,"title":"1.2、关联和非关联","slug":"_1-2、关联和非关联","link":"#_1-2、关联和非关联","children":[]},{"level":3,"title":"1.3、查询方式","slug":"_1-3、查询方式","link":"#_1-3、查询方式","children":[]},{"level":3,"title":"1.4、事务","slug":"_1-4、事务","link":"#_1-4、事务","children":[]},{"level":3,"title":"1.5、总结","slug":"_1-5、总结","link":"#_1-5、总结","children":[]}]},{"level":2,"title":"2、认识 Redis","slug":"_2、认识-redis","link":"#_2、认识-redis","children":[]},{"level":2,"title":"3、安装Redis","slug":"_3、安装redis","link":"#_3、安装redis","children":[{"level":3,"title":"3.1、安装 Redis 依赖","slug":"_3-1、安装-redis-依赖","link":"#_3-1、安装-redis-依赖","children":[]},{"level":3,"title":"3.2、上传安装包并解压","slug":"_3-2、上传安装包并解压","link":"#_3-2、上传安装包并解压","children":[]},{"level":3,"title":"3.3、启动","slug":"_3-3、启动","link":"#_3-3、启动","children":[]},{"level":3,"title":"3.4、默认启动","slug":"_3-4、默认启动","link":"#_3-4、默认启动","children":[]},{"level":3,"title":"3.5、指定配置启动","slug":"_3-5、指定配置启动","link":"#_3-5、指定配置启动","children":[]},{"level":3,"title":"3.6、开机自启","slug":"_3-6、开机自启","link":"#_3-6、开机自启","children":[]}]},{"level":2,"title":"4、Redis 客户端","slug":"_4、redis-客户端","link":"#_4、redis-客户端","children":[{"level":3,"title":"4.1、Redis命令行客户端","slug":"_4-1、redis命令行客户端","link":"#_4-1、redis命令行客户端","children":[]},{"level":3,"title":"4.2、图形化桌面客户端","slug":"_4-2、图形化桌面客户端","link":"#_4-2、图形化桌面客户端","children":[]},{"level":3,"title":"4.3、安装","slug":"_4-3、安装","link":"#_4-3、安装","children":[]},{"level":3,"title":"4.4、建立连接","slug":"_4-4、建立连接","link":"#_4-4、建立连接","children":[]}]}]}],"readingTime":{"minutes":9.35,"words":2804},"filePathRelative":"Database/Redis/01-Redis快速入门一.md","localizedDate":"2023年12月23日","excerpt":"<p>介绍 NoSQL 和 Redis，Redis 的安装以及 Redis 客户端。</p>\\n","autoDesc":true}`);export{c as comp,k as data};
